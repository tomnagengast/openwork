Focus on preserving behavior and IPC payloads.

- Keep `agent:stream:${threadId}` messages identical (`{ type: 'stream', mode, data }`, `{ type: 'done' }`, `{ type: 'error', ... }`).
- Keep `src/main/agent/runtime.ts` (no deletions); it can become a thin wrapper if helpful.
- Ensure `src/renderer/src/lib/thread-context.tsx` still imports a valid `DeepAgent` type (minimal changes if needed).
